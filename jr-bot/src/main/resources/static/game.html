<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Jeu - JRRZF</title>
    <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <button onclick="window.location.href='dashboard.html'" class="btn-back">‚¨Ö Dashboard</button>
    
    <div id="setupModal" class="modal-overlay">
        <div class="modal-content">
            <h2>Nouvelle Partie</h2>
            <div class="option-group">
                <label>Couleur :</label>
                <div class="btn-group">
                    <button onclick="selectColor('white')" id="btnW" class="selected">Blancs</button>
                    <button onclick="selectColor('black')" id="btnB">Noirs</button>
                </div>
            </div>
            <div class="option-group">
                <label>Cadence :</label>
                <select id="timeControlSelect">
                    <option value="60">Bullet (1 min)</option>
                    <option value="180">Blitz (3 min)</option>
                    <option value="300" selected>Blitz (5 min)</option>
                    <option value="600">Rapide (10 min)</option>
                    <option value="no-limit">Sans limite</option>
                </select>
            </div>
            <button class="btn-primary start-btn" onclick="startGame()">LANCER LA PARTIE</button>
        </div>
    </div>

    <div class="game-container" style="filter: blur(5px);">
        
        <div class="player-card">
            <img src="images/bot.png" class="avatar-img" alt="Bot">
            <div class="player-info">
                <div class="name">Bot-JRRZF <span style="font-size:0.8em; color:#888;">(Niveau 1900)</span></div>
                <div class="clock" id="clock-black">05:00</div>
            </div>
            <div id="bot-bubble" class="chat-bubble" style="display: none;"></div>
        </div>

        <div id="board"></div>

        <div class="player-card">
            <div class="avatar">üë§</div> 
            <div class="player-info">
                <div class="name" id="playerName">Moi</div>
                <div class="clock" id="clock-white">05:00</div>
            </div>
        </div>

        <div class="controls">
            <button class="btn-danger" onclick="endGame('resign')">üè≥Ô∏è Abandonner</button>
            <button class="btn-secondary" onclick="endGame('draw')">ü§ù Nulle</button>
        </div>
        <h3 id="status" style="margin-top: 10px; color: #aaa;">En attente...</h3>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
    <script src="js/game.js"></script>
</body>
</html>